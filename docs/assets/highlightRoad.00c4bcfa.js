import{_ as d}from"./OperateBox.50437538.js";import{l as C,b as _,E as f,o as y,c as M,w as n,d as c,e as u}from"./index.aede304e.js";/* empty css                  */import"./request.ec4a57f9.js";import"./axios.a5b46551.js";class o{constructor(e){this._definitionChanged=new Cesium.Event,this._color=void 0,this._speed=void 0,this.color=e.color,this.speed=e.speed}get isConstant(){return!1}get definitionChanged(){return this._definitionChanged}getType(e){return Cesium.Material.LineFlickerMaterialType}getValue(e,t){return Cesium.defined(t)||(t={}),t.color=Cesium.Property.getValueOrDefault(this._color,e,Cesium.Color.RED,t.color),t.speed=Cesium.Property.getValueOrDefault(this._speed,e,5,t.speed),t}equals(e){return this===e||e instanceof o&&Cesium.Property.equals(this._color,e._color)&&Cesium.Property.equals(this._speed,e._speed)}}Object.defineProperties(o.prototype,{color:Cesium.createPropertyDescriptor("color"),speed:Cesium.createPropertyDescriptor("speed")});Cesium.Material.LineFlickerMaterialProperty="LineFlickerMaterialProperty";Cesium.Material.LineFlickerMaterialType="LineFlickerMaterialType";Cesium.Material.LineFlickerMaterialSource=`
uniform vec4 color;
uniform float speed;
czm_material czm_getMaterial(czm_materialInput materialInput){
czm_material material = czm_getDefaultMaterial(materialInput);
float time = fract( czm_frameNumber  *  speed / 1000.0);
vec2 st = materialInput.st;
float scalar = smoothstep(0.0,1.0,time);
material.diffuse = color.rgb * scalar;
material.alpha = color.a * scalar ;
return material;
}
`;Cesium.Material._materialCache.addMaterial(Cesium.Material.LineFlickerMaterialType,{fabric:{type:Cesium.Material.LineFlickerMaterialType,uniforms:{color:new Cesium.Color(1,0,0,1),speed:5},source:Cesium.Material.LineFlickerMaterialSource},translucent:function(m){return!0}});const h="/cesium-vue3-vite/json/qdRoad_less.geojson",v={__name:"highlightRoad",setup(m){const{viewer:e}=window;C(()=>{e.scene.terrainProvider=new Cesium.EllipsoidTerrainProvider({})}),e.camera.setView({destination:Cesium.Cartesian3.fromDegrees(120.188,36.67,2e5)});let t=null;const p=()=>{t=new Cesium.GeoJsonDataSource,t.load(h).then(function(l){const r=l.entities.values;for(let i=0;i<r.length;i++){let a=r[i];a.polyline.width=3,a.polyline.material=new o({color:Cesium.Color.YELLOW,speed:20*Math.random()})}}),e.dataSources.add(t)},s=()=>{e.dataSources.remove(t)};return _(()=>{s(),e.scene.terrainProvider=new Cesium.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"})}),(l,r)=>{const i=f,a=d;return y(),M(a,null,{default:n(()=>[c(i,{type:"primary",onClick:p},{default:n(()=>r[0]||(r[0]=[u("\u5F00\u59CB")])),_:1}),c(i,{type:"primary",onClick:s},{default:n(()=>r[1]||(r[1]=[u("\u6E05\u9664")])),_:1})]),_:1})}}};export{v as default};
