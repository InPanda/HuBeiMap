import{a as p}from"./axios.a5b46551.js";import{k as m}from"./index.a197349c.js";const d=["post","put","patch"],c={400:"\u9519\u8BEF\u7684\u8BF7\u6C42",401:"\u672A\u6388\u6743\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55",403:"\u62D2\u7EDD\u8BBF\u95EE",404:"\u8BF7\u6C42\u9519\u8BEF,\u672A\u627E\u5230\u8BE5\u8D44\u6E90",405:"\u8BF7\u6C42\u65B9\u6CD5\u672A\u5141\u8BB8",408:"\u8BF7\u6C42\u8D85\u65F6",500:"\u670D\u52A1\u5668\u7AEF\u51FA\u9519",501:"\u7F51\u7EDC\u672A\u5B9E\u73B0",502:"\u7F51\u7EDC\u9519\u8BEF",503:"\u670D\u52A1\u4E0D\u53EF\u7528",504:"\u7F51\u7EDC\u8D85\u65F6",505:"http\u7248\u672C\u4E0D\u652F\u6301\u8BE5\u8BF7\u6C42"},i=p.create({timeout:1e4}),E=t=>{let e="";c.errStatus?e=c.errStatus:e=`\u5176\u4ED6\u8FDE\u63A5\u9519\u8BEF --${t}`,m.error(e)};i.interceptors.response.use(t=>t.status!==200?Promise.reject(t.data):t,t=>(E(t.response.status),Promise.reject(t.response)));const h=(t,e,s,a={})=>{const o=d.indexOf(e)>-1;return new Promise(n=>{i({url:t,method:e,params:o?a.params:s,data:o?s:void 0,...a}).then(r=>{const u=r.data;n({res:u})}).catch(r=>{n({err:r})})})};export{h as r};
